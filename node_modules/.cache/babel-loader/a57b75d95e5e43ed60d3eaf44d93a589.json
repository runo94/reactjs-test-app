{"ast":null,"code":"var _jsxFileName = \"C:\\\\works\\\\reactjs-test-app\\\\src\\\\CardsListMovie.js\";\nimport React from 'react';\nimport CardMovie from './CardMovie';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Pagination from \"react-js-pagination\";\n\nconst styles = theme => ({\n  root: {\n    maxWidth: 1280,\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    margin: '0 auto'\n  },\n  pagination: {\n    display: \"flex\",\n    justifyContent: 'center'\n  },\n  pageNum: {\n    listStyle: \"none\",\n    border: '2px solid #ececec',\n    borderRadius: 6,\n    minWidth: 20,\n    textAlign: 'center',\n    margin: 4,\n    transition: 'all ease .3s',\n    boxShadow: '0px 0px 18px -6px rgba(0,0,0,0.25)',\n    '&:hover': {\n      border: '2px solid #61dafb',\n      transition: 'all ease .3s',\n      background: '#61dafb',\n      color: \"#fff\"\n    }\n  },\n  activePageNum: {\n    border: '2px solid #61dafb',\n    background: '#61dafb',\n    color: \"#fff\"\n  },\n  pageLink: {\n    textDecoration: 'none',\n    color: '#5a5a5a',\n    padding: 5,\n    display: 'block',\n    minWidth: 20,\n    '&:hover': {\n      color: \"#fff\"\n    }\n  },\n  activePageLink: {\n    color: \"#fff\"\n  },\n  disabledPage: {\n    background: '#ececec',\n    '&:hover': {\n      border: '2px solid #ececec',\n      background: '#ececec',\n      color: '#cecece !important'\n    }\n  }\n});\n\nclass CardsListMovie extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getNowPlayingMovies = pageNumber => {\n      fetch(\"https://api.themoviedb.org/3/movie/now_playing?api_key=ebea8cfca72fdff8d2624ad7bbf78e4c&language=en-US&page=\".concat(pageNumber), {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          //'Content-Type': 'application/json'\n          \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\" // otherwise $_POST is empty\n\n        }\n      }).then(response => response.json()).then(json => {\n        console.log(json);\n        this.setState({\n          data: json,\n          totalCount: json.total_results\n        });\n      });\n    };\n\n    this.state = {\n      spacing: '5',\n      data: null,\n      page: 1,\n      totalCount: 0\n    };\n  }\n\n  componentDidMount() {\n    this.getNowPlayingMovies(this.state.page);\n  }\n\n  handlePageChange(pageNumber) {\n    console.log(\"active page is \".concat(pageNumber));\n    this.setState({\n      page: pageNumber\n    });\n    this.getNowPlayingMovies(pageNumber);\n  }\n\n  render() {\n    const classes = this.props.classes;\n    console.log('STAAAAATE', this.state);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, !!this.state.data ? React.createElement(CardMovie, {\n      movieInfo: this.state.data.results,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }) : 'Loading...')), React.createElement(Pagination, {\n      prevPageText: \"prev\",\n      nextPageText: \"next\",\n      firstPageText: \"first\",\n      lastPageText: \"last\",\n      activePage: this.state.page,\n      itemsCountPerPage: 20,\n      totalItemsCount: this.state.totalCount,\n      onChange: this.handlePageChange.bind(this),\n      itemClass: classes.pageNum,\n      innerClass: classes.pagination,\n      linkClass: classes.pageLink,\n      activeClass: classes.activePageNum,\n      activeLinkClass: classes.activePageLink,\n      disabledClass: classes.disabledPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withStyles(styles)(CardsListMovie);","map":{"version":3,"sources":["C:\\works\\reactjs-test-app\\src\\CardsListMovie.js"],"names":["React","CardMovie","withStyles","Grid","Pagination","styles","theme","root","maxWidth","width","display","justifyContent","margin","pagination","pageNum","listStyle","border","borderRadius","minWidth","textAlign","transition","boxShadow","background","color","activePageNum","pageLink","textDecoration","padding","activePageLink","disabledPage","CardsListMovie","Component","constructor","props","getNowPlayingMovies","pageNumber","fetch","method","mode","headers","then","response","json","console","log","setState","data","totalCount","total_results","state","spacing","page","componentDidMount","handlePageChange","render","classes","results","bind"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport CardMovie from './CardMovie';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        maxWidth: 1280,\r\n        width: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        margin: '0 auto'\r\n    },\r\n    pagination: {\r\n        display: \"flex\",\r\n        justifyContent: 'center'\r\n    },\r\n    pageNum: {\r\n        listStyle: \"none\",\r\n        border: '2px solid #ececec',\r\n        borderRadius: 6,\r\n        minWidth: 20,\r\n        textAlign: 'center',\r\n        margin: 4,\r\n        transition: 'all ease .3s',\r\n        boxShadow: '0px 0px 18px -6px rgba(0,0,0,0.25)',\r\n        '&:hover': {            \r\n            border: '2px solid #61dafb',\r\n            transition: 'all ease .3s',\r\n            background: '#61dafb',\r\n            color: \"#fff\"\r\n        }\r\n    },\r\n    activePageNum: {\r\n        border: '2px solid #61dafb',\r\n        background: '#61dafb',\r\n        color: \"#fff\"\r\n    },\r\n    pageLink: {\r\n        textDecoration: 'none',\r\n        color: '#5a5a5a',\r\n        padding: 5,\r\n        display:'block',\r\n        minWidth: 20,\r\n        '&:hover': {\r\n            color: \"#fff\"\r\n        }\r\n    },\r\n    activePageLink: {\r\n        color: \"#fff\"\r\n    },\r\n    disabledPage: {\r\n        background: '#ececec',\r\n        '&:hover': {\r\n            border: '2px solid #ececec',\r\n            background: '#ececec',\r\n            color: '#cecece !important'\r\n        }\r\n    }\r\n});\r\n\r\nclass CardsListMovie extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            spacing: '5',\r\n            data: null,\r\n            page: 1,\r\n            totalCount: 0\r\n        }\r\n    }\r\n\r\n    getNowPlayingMovies = (pageNumber) => {\r\n        fetch(`https://api.themoviedb.org/3/movie/now_playing?api_key=ebea8cfca72fdff8d2624ad7bbf78e4c&language=en-US&page=${pageNumber}`, {\r\n                method: 'POST',\r\n                mode: 'cors',\r\n                headers: {\r\n                    'Accept': 'application/json, text/plain, */*',\r\n                    //'Content-Type': 'application/json'\r\n                    \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\" // otherwise $_POST is empty\r\n                },\r\n            })\r\n            .then(response => response.json())\r\n            .then(json => {\r\n                console.log(json);            \r\n                this.setState({\r\n                    data: json,\r\n                    totalCount: json.total_results\r\n                })\r\n            })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getNowPlayingMovies(this.state.page);\r\n    }\r\n\r\n    handlePageChange(pageNumber) {\r\n        console.log(`active page is ${pageNumber}`);\r\n        this.setState({page: pageNumber});\r\n        this.getNowPlayingMovies(pageNumber);\r\n      }\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n        console.log('STAAAAATE', this.state);\r\n               \r\n        return (\r\n            <div>\r\n                <div className={classes.root}>\r\n                    <Grid container spacing={0}>\r\n                        {\r\n                            !!this.state.data ? <CardMovie movieInfo={this.state.data.results}/> : 'Loading...'\r\n                        }\r\n                    </Grid>\r\n                </div>\r\n                <Pagination\r\n                    prevPageText='prev'\r\n                    nextPageText='next'\r\n                    firstPageText='first'\r\n                    lastPageText='last'\r\n                    activePage={this.state.page}\r\n                    itemsCountPerPage={20}\r\n                    totalItemsCount={this.state.totalCount}\r\n                    onChange={this.handlePageChange.bind(this)}\r\n                    itemClass={classes.pageNum}\r\n                    innerClass={classes.pagination}\r\n                    linkClass={classes.pageLink}\r\n                    activeClass={classes.activePageNum}\r\n                    activeLinkClass={classes.activePageLink}\r\n                    disabledClass={classes.disabledPage}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(CardsListMovie);"]},"metadata":{},"sourceType":"module"}