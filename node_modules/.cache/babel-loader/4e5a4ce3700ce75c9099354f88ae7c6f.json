{"ast":null,"code":"var _jsxFileName = \"C:\\\\works\\\\reactjs-test-app\\\\src\\\\App.js\";\nimport React from 'react';\nimport Header from './Header';\nimport { BrowserRouter as Router, Route, Switch, Link } from \"react-router-dom\";\nimport './App.css';\nimport CardsListMovie from './CardsListMovie';\nimport MoviePage from './MoviePage';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getNowPlayingMovies = pageNumber => {\n      fetch(\"https://api.themoviedb.org/3/movie/now_playing?api_key=ebea8cfca72fdff8d2624ad7bbf78e4c&language=en-US&page=\".concat(pageNumber), {\n        method: 'GET',\n        mode: 'cors',\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          //'Content-Type': 'application/json'\n          \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\" // otherwise $_POST is empty\n\n        }\n      }).then(response => response.json()).then(json => {\n        this.setState({\n          data: json,\n          totalCount: json.total_results,\n          page: pageNumber\n        });\n        const listIDs = [];\n        json.results.map(result => {\n          listIDs.push(result.id);\n          this.setState({\n            listIds: listIDs\n          });\n        });\n      });\n    };\n\n    this.state = {\n      data: null,\n      page: 1,\n      totalCount: 0,\n      listIds: null\n    };\n  }\n\n  handlePageChange(pageNumber) {\n    console.log(pageNumber);\n    this.setState({\n      page: pageNumber\n    });\n    this.getNowPlayingMovies(pageNumber);\n  }\n\n  componentDidMount() {\n    this.getNowPlayingMovies(this.state.page);\n  }\n\n  render() {\n    console.log(this.state);\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      render: props => React.createElement(CardsListMovie, Object.assign({}, props, {\n        pagesChange: this.getNowPlayingMovies,\n        moviesList: !!this.state.data && this.state.data,\n        pageNumber: this.state.page,\n        totalCount: this.state.totalCount,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/movie/:id\",\n      render: props => React.createElement(MoviePage, Object.assign({}, props, {\n        pagesChange: this.handlePageChange,\n        listIDs: !!this.state.listIds && this.state.listIds,\n        currPage: this.state.page,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:\\works\\reactjs-test-app\\src\\App.js"],"names":["React","Header","BrowserRouter","Router","Route","Switch","Link","CardsListMovie","MoviePage","App","Component","constructor","props","getNowPlayingMovies","pageNumber","fetch","method","mode","headers","then","response","json","setState","data","totalCount","total_results","page","listIDs","results","map","result","push","id","listIds","state","handlePageChange","console","log","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Header from './Header';\nimport { BrowserRouter as Router, Route, Switch, Link } from \"react-router-dom\";\n\nimport './App.css';\nimport CardsListMovie from './CardsListMovie';\nimport MoviePage from './MoviePage'\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n        data: null,\n        page: 1,\n        totalCount: 0,\n        listIds: null\n    }\n}\n  getNowPlayingMovies = (pageNumber) => {\n    fetch(`https://api.themoviedb.org/3/movie/now_playing?api_key=ebea8cfca72fdff8d2624ad7bbf78e4c&language=en-US&page=${pageNumber}`, {\n            method: 'GET',\n            mode: 'cors',\n            headers: {\n                'Accept': 'application/json, text/plain, */*',\n                //'Content-Type': 'application/json'\n                \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\" // otherwise $_POST is empty\n            },\n        })\n        .then(response => response.json())\n        .then(json => {          \n            this.setState({\n                data: json,\n                totalCount: json.total_results,\n                page: pageNumber\n            })\n            const listIDs = []; \n            json.results.map(result => {\n              listIDs.push(result.id); \n              this.setState({listIds: listIDs}\n            )})\n        })\n        \n  }\n\n  handlePageChange(pageNumber) {\n    console.log(pageNumber);\n    \n    this.setState(\n      {\n        page: pageNumber\n      }\n    );\n    this.getNowPlayingMovies(pageNumber);\n  }\n\n  componentDidMount() {\n      this.getNowPlayingMovies(this.state.page);\n  }\n\n  render(){\n    console.log(this.state);\n    \n    return (\n      <Router>\n        <div>\n          <Header/>\n          <Route path=\"/\" exact render={(props) => <CardsListMovie {...props} pagesChange={this.getNowPlayingMovies} moviesList={!!this.state.data && this.state.data} pageNumber={this.state.page} totalCount={this.state.totalCount}/>} />\n          <Route path=\"/movie/:id\" render={(props) => <MoviePage {...props}  pagesChange={this.handlePageChange} listIDs={!!this.state.listIds && this.state.listIds} currPage={this.state.page}/>} />\n        </div>\n      </Router>\n    );\n  }\n}\n            \n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}